{"version":3,"sources":["../../src/controllers/seller.controller.ts"],"sourcesContent":["import { NextFunction, Request, Response } from 'express';\nimport sellerService from '@services/seller.service';\n\nclass sellerController {\n  public sellerService = new sellerService();\n\n  public getSubscriptionPlans = async (req: Request, res: Response, next: NextFunction): Promise<void> => {\n    try {\n      const userId = String(req.params.id);\n\n      const subscriptionPlans = await this.sellerService.getSubscriptiionPlans(userId);\n\n      res.status(200).json({ subscriptionPlans });\n    } catch (error) {\n      next(error);\n    }\n  };\n\n  public createSubscribePlans = async (req: Request, res: Response, next: NextFunction): Promise<void> => {\n    try {\n      const userId = String(req.params.id);\n      const subscriptionPlansData = req.body;\n\n      const createdSubscriptionPlans = await this.sellerService.createSubscribePlans(userId, subscriptionPlansData);\n\n      res.status(200).json({ createdSubscriptionPlans });\n    } catch (error) {\n      next(error);\n    }\n  };\n\n  public getFollowersCount = async (req: Request, res: Response, next: NextFunction): Promise<void> => {\n    try {\n      const sellerId = String(req.params.id);\n      \n      const followersCount = await this.sellerService.getFollowersCount(sellerId);\n\n      res.status(201).json({ followers: followersCount });\n    } catch (error) {\n      next(error);\n    }\n  };\n\n  public updatePlans = async (req: Request, res: Response, next: NextFunction): Promise<void> => {\n    try {\n      const plans = req.body.data;\n      \n      const result = await this.sellerService.changePlans(plans);\n\n      res.status(201).json(result);\n    } catch (error) {\n      next(error);\n    }\n  };\n\n  public getAllSellers = async (req: Request, res: Response, next: NextFunction): Promise<void> => {\n    try {\n      const result = await this.sellerService.getAllSellers();\n\n      res.status(201).json(result);\n    } catch (error) {\n      next(error);\n    }\n  };\n\n  public uploadIdentityCard = async (req: Request, res: Response, next: NextFunction): Promise<void> => {\n    try {\n      const userId = String(req.params.id);\n      \n      const identityCardData = req.files;\n      \n      await this.sellerService.uploadIdentityCard(identityCardData, userId);\n\n      res.status(201).json({ message: \"identity card haq been uploaded successfully\", status: 200 });\n    } catch (error) {\n      next(error);\n    }\n  };\n}\n\nexport default sellerController;\n"],"names":["sellerController","sellerService","getSubscriptionPlans","req","res","next","userId","String","params","id","subscriptionPlans","getSubscriptiionPlans","status","json","error","createSubscribePlans","subscriptionPlansData","body","createdSubscriptionPlans","getFollowersCount","sellerId","followersCount","followers","updatePlans","plans","data","result","changePlans","getAllSellers","uploadIdentityCard","identityCardData","files","message"],"mappings":";;;;+BAgFA;;;eAAA;;;sEA/E0B;;;;;;;;;;;;;;;;;;;AAE1B,IAAA,AAAMA,mBAAN,MAAMA;;QACJ,uBAAOC,iBAAgB,IAAIA,sBAAa;QAExC,uBAAOC,wBAAuB,OAAOC,KAAcC,KAAeC;YAChE,IAAI;gBACF,MAAMC,SAASC,OAAOJ,IAAIK,MAAM,CAACC,EAAE;gBAEnC,MAAMC,oBAAoB,MAAM,IAAI,CAACT,aAAa,CAACU,qBAAqB,CAACL;gBAEzEF,IAAIQ,MAAM,CAAC,KAAKC,IAAI,CAAC;oBAAEH;gBAAkB;YAC3C,EAAE,OAAOI,OAAO;gBACdT,KAAKS;YACP;QACF;QAEA,uBAAOC,wBAAuB,OAAOZ,KAAcC,KAAeC;YAChE,IAAI;gBACF,MAAMC,SAASC,OAAOJ,IAAIK,MAAM,CAACC,EAAE;gBACnC,MAAMO,wBAAwBb,IAAIc,IAAI;gBAEtC,MAAMC,2BAA2B,MAAM,IAAI,CAACjB,aAAa,CAACc,oBAAoB,CAACT,QAAQU;gBAEvFZ,IAAIQ,MAAM,CAAC,KAAKC,IAAI,CAAC;oBAAEK;gBAAyB;YAClD,EAAE,OAAOJ,OAAO;gBACdT,KAAKS;YACP;QACF;QAEA,uBAAOK,qBAAoB,OAAOhB,KAAcC,KAAeC;YAC7D,IAAI;gBACF,MAAMe,WAAWb,OAAOJ,IAAIK,MAAM,CAACC,EAAE;gBAErC,MAAMY,iBAAiB,MAAM,IAAI,CAACpB,aAAa,CAACkB,iBAAiB,CAACC;gBAElEhB,IAAIQ,MAAM,CAAC,KAAKC,IAAI,CAAC;oBAAES,WAAWD;gBAAe;YACnD,EAAE,OAAOP,OAAO;gBACdT,KAAKS;YACP;QACF;QAEA,uBAAOS,eAAc,OAAOpB,KAAcC,KAAeC;YACvD,IAAI;gBACF,MAAMmB,QAAQrB,IAAIc,IAAI,CAACQ,IAAI;gBAE3B,MAAMC,SAAS,MAAM,IAAI,CAACzB,aAAa,CAAC0B,WAAW,CAACH;gBAEpDpB,IAAIQ,MAAM,CAAC,KAAKC,IAAI,CAACa;YACvB,EAAE,OAAOZ,OAAO;gBACdT,KAAKS;YACP;QACF;QAEA,uBAAOc,iBAAgB,OAAOzB,KAAcC,KAAeC;YACzD,IAAI;gBACF,MAAMqB,SAAS,MAAM,IAAI,CAACzB,aAAa,CAAC2B,aAAa;gBAErDxB,IAAIQ,MAAM,CAAC,KAAKC,IAAI,CAACa;YACvB,EAAE,OAAOZ,OAAO;gBACdT,KAAKS;YACP;QACF;QAEA,uBAAOe,sBAAqB,OAAO1B,KAAcC,KAAeC;YAC9D,IAAI;gBACF,MAAMC,SAASC,OAAOJ,IAAIK,MAAM,CAACC,EAAE;gBAEnC,MAAMqB,mBAAmB3B,IAAI4B,KAAK;gBAElC,MAAM,IAAI,CAAC9B,aAAa,CAAC4B,kBAAkB,CAACC,kBAAkBxB;gBAE9DF,IAAIQ,MAAM,CAAC,KAAKC,IAAI,CAAC;oBAAEmB,SAAS;oBAAgDpB,QAAQ;gBAAI;YAC9F,EAAE,OAAOE,OAAO;gBACdT,KAAKS;YACP;QACF;;AACF;MAEA,WAAed"}