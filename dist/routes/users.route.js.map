{"version":3,"sources":["../../src/routes/users.route.ts"],"sourcesContent":["import { Router } from 'express';\nimport UsersController from '@controllers/users.controller';\nimport { Routes } from '@interfaces/routes.interface';\nimport multer from 'multer';\nimport fileMiddleware from '@/middlewares/fileValidation.middleware';\nimport { request } from 'http';\nimport authMiddleware from '@/middlewares/auth.middleware';\n\nclass UsersRoute implements Routes {\n  public path = '/users';\n  public router = Router();\n  public usersController = new UsersController();\n\n  constructor() {\n    this.initializeRoutes();\n  }\n\n  private initializeRoutes() {\n    this.router.get(`${this.path}/:id`,authMiddleware , this.usersController.getUserById);\n    this.router.get(`${this.path}`, authMiddleware, this.usersController.getUsers);\n    this.router.post(`${this.path}/buy/:id`, authMiddleware, this.usersController.buyPost);\n    this.router.post(`${this.path}/subscribe/:id`, authMiddleware, this.usersController.subscribe);\n    this.router.post(`${this.path}/buy/sent/:id`, authMiddleware, this.usersController.unlockSentPicture);\n    this.router.post(`${this.path}/unsubscribe/:id/:sellerId`, authMiddleware, this.usersController.cancelSubscription);\n    this.router.get(`${this.path}/confirmation/:token`, this.usersController.emailConfirming);\n    this.router.get(`${this.path}/:email`, authMiddleware, this.usersController.changePassword);\n    this.router.get(`${this.path}/plans/:id`,authMiddleware, this.usersController.getSellerPlans);\n    this.router.get(`${this.path}/ai/generatePictures`, this.usersController.generateAiPictures);\n    this.router.put(`${this.path}/:id`, authMiddleware, this.usersController.updateUser);\n    this.router.post(`${this.path}/generateOtp/:email`, this.usersController.generateOtp);\n    this.router.post(`${this.path}/verifyOtp/:email`, this.usersController.verifyOtp);\n    this.router.post(`${this.path}/signout/:id`, this.usersController.signOut);\n    this.router.get(`${this.path}/verify/checkForSale/:userId/:postId/:plan`, this.usersController.checkForSale);\n    this.router.post(`${this.path}/devices/token/:id`, authMiddleware, this.usersController.uploadDeviceToken);\n    this.router.post(`${this.path}/desactivate/:id`, this.usersController.desactivateUser);\n    this.router.get(`${this.path}/followed/:id/:role`, this.usersController.getFollowedSellers);\n    this.router.post(\n      `${this.path}/upload/avatar/:id`,\n      authMiddleware,\n      multer().single('avatar'),\n      fileMiddleware,\n      \n      this.usersController.uploadAvatar,\n    );\n    \n  }\n}\n\nexport default UsersRoute;\n"],"names":["UsersRoute","initializeRoutes","router","get","path","authMiddleware","usersController","getUserById","getUsers","post","buyPost","subscribe","unlockSentPicture","cancelSubscription","emailConfirming","changePassword","getSellerPlans","generateAiPictures","put","updateUser","generateOtp","verifyOtp","signOut","checkForSale","uploadDeviceToken","desactivateUser","getFollowedSellers","multer","single","fileMiddleware","uploadAvatar","constructor","Router","UsersController"],"mappings":"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"}