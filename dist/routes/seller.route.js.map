{"version":3,"sources":["../../src/routes/seller.route.ts"],"sourcesContent":["import { Router } from 'express';\nimport sellerController from '@controllers/seller.controller';\nimport { Routes } from '@interfaces/routes.interface';\nimport multer from 'multer';\nimport fileMiddleware from '@/middlewares/fileValidation.middleware';\nimport authMiddleware from '@/middlewares/auth.middleware';\nimport sellerMiddleware from '@/middlewares/seller.middleware';\n\nclass sellerRoute implements Routes {\n  public path = '/sellers';\n  public router = Router();\n  public sellerController = new sellerController();\n\n  constructor() {\n    this.initializeRoutes();\n  }\n\n  private initializeRoutes() {\n    this.router.post(`${this.path}/plans/:id`, authMiddleware, this.sellerController.createSubscribePlans);\n    this.router.get(`${this.path}/plans/:id`, authMiddleware, this.sellerController.getSubscriptionPlans);\n    this.router.get(`${this.path}/payout/:id`, authMiddleware, sellerMiddleware, this.sellerController.getPayoutAccounts);\n    this.router.post(`${this.path}/payout/:id/:payoutAccountId`, authMiddleware, sellerMiddleware, this.sellerController.deletePayoutAccount);\n    this.router.post(`${this.path}/withdrawal/:id/:payoutAccountId`, authMiddleware, sellerMiddleware, this.sellerController.requestWithdraw);\n    this.router.put(`${this.path}/plans`, authMiddleware, this.sellerController.updatePlans);\n    this.router.post(`${this.path}/payout/:id`, authMiddleware, sellerMiddleware, this.sellerController.addPayoutAccount);\n    this.router.get(`${this.path}`, authMiddleware, this.sellerController.getAllSellers);\n    this.router.get(`${this.path}/followers/:id`, authMiddleware, this.sellerController.getFollowersCount);\n    this.router.post(\n      `${this.path}/upload/identitycard/:id`,\n      multer().fields([\n        { name: 'frontSide', maxCount: 1 },\n        { name: 'backSide', maxCount: 1 },\n      ]),\n      fileMiddleware,\n      this.sellerController.uploadIdentityCard,\n    );\n    this.router.post(\n      `${this.path}/upload/sent/picture/:id/:tipAmount/:receiverId`,\n      \n      multer().single('sentPicture'),\n      fileMiddleware,\n      authMiddleware,\n      this.sellerController.uploadSentPicture,\n    );\n  }\n}\n\nexport default sellerRoute;\n"],"names":["sellerRoute","initializeRoutes","router","post","path","authMiddleware","sellerController","createSubscribePlans","get","getSubscriptionPlans","sellerMiddleware","getPayoutAccounts","deletePayoutAccount","requestWithdraw","put","updatePlans","addPayoutAccount","getAllSellers","getFollowersCount","multer","fields","name","maxCount","fileMiddleware","uploadIdentityCard","single","uploadSentPicture","constructor","Router"],"mappings":";;;;+BA+CA;;;eAAA;;;yBA/CuB;yEACM;+DAEV;iFACQ;uEACA;yEACE;;;;;;;;;;;;;;;;;;;AAE7B,IAAA,AAAMA,cAAN,MAAMA;IASIC,mBAAmB;QACzB,IAAI,CAACC,MAAM,CAACC,IAAI,CAAC,CAAC,EAAE,IAAI,CAACC,IAAI,CAAC,UAAU,CAAC,EAAEC,uBAAc,EAAE,IAAI,CAACC,gBAAgB,CAACC,oBAAoB;QACrG,IAAI,CAACL,MAAM,CAACM,GAAG,CAAC,CAAC,EAAE,IAAI,CAACJ,IAAI,CAAC,UAAU,CAAC,EAAEC,uBAAc,EAAE,IAAI,CAACC,gBAAgB,CAACG,oBAAoB;QACpG,IAAI,CAACP,MAAM,CAACM,GAAG,CAAC,CAAC,EAAE,IAAI,CAACJ,IAAI,CAAC,WAAW,CAAC,EAAEC,uBAAc,EAAEK,yBAAgB,EAAE,IAAI,CAACJ,gBAAgB,CAACK,iBAAiB;QACpH,IAAI,CAACT,MAAM,CAACC,IAAI,CAAC,CAAC,EAAE,IAAI,CAACC,IAAI,CAAC,4BAA4B,CAAC,EAAEC,uBAAc,EAAEK,yBAAgB,EAAE,IAAI,CAACJ,gBAAgB,CAACM,mBAAmB;QACxI,IAAI,CAACV,MAAM,CAACC,IAAI,CAAC,CAAC,EAAE,IAAI,CAACC,IAAI,CAAC,gCAAgC,CAAC,EAAEC,uBAAc,EAAEK,yBAAgB,EAAE,IAAI,CAACJ,gBAAgB,CAACO,eAAe;QACxI,IAAI,CAACX,MAAM,CAACY,GAAG,CAAC,CAAC,EAAE,IAAI,CAACV,IAAI,CAAC,MAAM,CAAC,EAAEC,uBAAc,EAAE,IAAI,CAACC,gBAAgB,CAACS,WAAW;QACvF,IAAI,CAACb,MAAM,CAACC,IAAI,CAAC,CAAC,EAAE,IAAI,CAACC,IAAI,CAAC,WAAW,CAAC,EAAEC,uBAAc,EAAEK,yBAAgB,EAAE,IAAI,CAACJ,gBAAgB,CAACU,gBAAgB;QACpH,IAAI,CAACd,MAAM,CAACM,GAAG,CAAC,CAAC,EAAE,IAAI,CAACJ,IAAI,CAAC,CAAC,EAAEC,uBAAc,EAAE,IAAI,CAACC,gBAAgB,CAACW,aAAa;QACnF,IAAI,CAACf,MAAM,CAACM,GAAG,CAAC,CAAC,EAAE,IAAI,CAACJ,IAAI,CAAC,cAAc,CAAC,EAAEC,uBAAc,EAAE,IAAI,CAACC,gBAAgB,CAACY,iBAAiB;QACrG,IAAI,CAAChB,MAAM,CAACC,IAAI,CACd,CAAC,EAAE,IAAI,CAACC,IAAI,CAAC,wBAAwB,CAAC,EACtCe,IAAAA,eAAM,IAAGC,MAAM,CAAC;YACd;gBAAEC,MAAM;gBAAaC,UAAU;YAAE;YACjC;gBAAED,MAAM;gBAAYC,UAAU;YAAE;SACjC,GACDC,iCAAc,EACd,IAAI,CAACjB,gBAAgB,CAACkB,kBAAkB;QAE1C,IAAI,CAACtB,MAAM,CAACC,IAAI,CACd,CAAC,EAAE,IAAI,CAACC,IAAI,CAAC,+CAA+C,CAAC,EAE7De,IAAAA,eAAM,IAAGM,MAAM,CAAC,gBAChBF,iCAAc,EACdlB,uBAAc,EACd,IAAI,CAACC,gBAAgB,CAACoB,iBAAiB;IAE3C;IA/BAC,aAAc;QAJd,uBAAOvB,QAAO;QACd,uBAAOF,UAAS0B,IAAAA,eAAM;QACtB,uBAAOtB,oBAAmB,IAAIA,yBAAgB;QAG5C,IAAI,CAACL,gBAAgB;IACvB;AA8BF;MAEA,WAAeD"}